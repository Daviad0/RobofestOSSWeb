@model RobofestWTE.Models.MatchDataModel

@{
    ViewBag.Title = "Index";
}
<body>
    <style>
        .tabcontent {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
        }
        /* Style the tab */
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }

            /* Style the buttons inside the tab */
            .tab button {
                background-color: inherit;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                transition: 0.3s;
                font-size: 17px;
            }

                /* Change background color of buttons on hover */
                .tab button:hover {
                    background-color: #ddd;
                }

                /* Create an active/current tablink class */
                .tab button.active {
                    background-color: #ccc;
                }
    </style>
    <h2>Team Management</h2>
    <input type="button" value="Round 1" class="tablinks" onclick="openCity(event, 'Round1')" />
    <input type="button" value="Round 2" class="tablinks" onclick="openCity(event, 'Round2')" />
    <table class="table table-hover tabcontent" id="Round1">
        <tr style="font-size:20px">
            <th style="background-color:#ffffff">
                Team ID
            </th>
            <th style="background-color:#ffffff">
                Team #
            </th>
            <th style="background-color:#ffffff">
                Team Name
            </th>
            <th>
                Select:
            </th>
        </tr>
        @{
            int i = 0;
            int r = 1;
            var Fields = Model.RunningFields;
        }
        @foreach (var Team in Model.R1List.Where(a => a.FieldR1 == 0).OrderBy(a => a.TeamNumberBranch).ThenBy(a => a.TeamNumberSpecific))
        {
            {
                i++;
            }
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamNumberBranch)-@Team.TeamNumberSpecific
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamName)
                </td>
                <td>
                    Select
                </td>
            </tr>
        }

    </table>
    <table class="table table-hover tabcontent" id="Round2">
        <tr style="font-size:20px">
            <th style="background-color:#ffffff">
                Team ID
            </th>
            <th style="background-color:#ffffff">
                Team #
            </th>
            <th style="background-color:#ffffff">
                Team Name
            </th>
            <th>
                Select:
            </th>
        </tr>
        @foreach (var Team in Model.R2List.Where(a => a.FieldR2 == 0).OrderByDescending(a => a.TeamNumberBranch).ThenByDescending(a => a.TeamNumberSpecific))
        {
            {
                i++;
            }
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamNumberBranch)-@Team.TeamNumberSpecific
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Team.TeamName)
                </td>
                <td>
                    Select
                </td>
            </tr>
        }

    </table>

</body>
<script src="~/Scripts/jquery-3.3.1.js" integrity="" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="Scripts/jquery-3.1.1.min.js"></script>
<!--Reference the SignalR library. -->
<script src="Scripts/jquery.signalR-2.2.1.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="signalr/hubs"></script>
<script>
    function openCity(evt, cityName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }
</script>
<script>
    $(function () {
        var chat = $.connection.scoreHub;
        chat.client.changelist = function () {
            location.reload(true);
        };
    });
</script>